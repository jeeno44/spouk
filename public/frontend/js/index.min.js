!function(){"use strict";$(function(){$.each($(".slides"),function(){new n($(this))})}),$(function(){$.each($(".news"),function(){new i($(this))})});var n=function(n){var i=this,o=n,t=$(window),s=function(){t.on({scroll:function(){c()}})},c=function(){var n=t.height();o.each(function(){var i=$(this),s=o.offset().top;t.scrollTop()>s-n/1.8&&!i.hasClass("animation")&&i.addClass("animation")})},a=function(){o[0].slides=i,s(),c()};a()},i=function(n){var i=n,o=i.find(".news__item"),t=$(window),s=function(){t.on({scroll:function(){c()}})},c=function(){var n=t.height(),s=i.offset().top-n+60;t.scrollTop()>s&&o.addClass("animation")},a=function(){s(),c()};a()}}();
"use strict";!function(){$(function(){$.each($(".site__footer-scroll"),function(){new n($(this))}),$.each($(".promo__swiper"),function(){new i($(this))})});var n=function(n){var i=n,o=$("body,html"),t=function(){c()},c=function(){i.on({click:function(){a()}})},a=function(){o.animate({scrollTop:0},400)};t()},i=function(n){var i,o=this,t=n,c=function(){},a=function(){i=new Swiper(t,{loop:!0,pagination:".swiper-pagination",paginationClicable:!0,autoplay:5e3,speed:600,autoplayDisableOnInteraction:!1})},e=function(){t[0].obj=o,c(),a()};e()}}();
!function(){$(function(){$(".popup").each(function(){new o($(this))})});var o=function(o){var n=this,t=40,i=$(".popup__open"),e=o,p=e.find(".popup__close, .popup__cancel"),c=e.find(".popup__wrap"),u=e.find(".popup__content"),s=$("html"),d=$(window),a=setTimeout(function(){},1),f=function(){d.height()-2*t-c.height()>0?c.css({top:(d.height()-2*t-c.height())/2}):c.css({top:0})},r=function(){var o,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),o=n.offsetWidth-n.clientWidth,document.body.removeChild(n),o},l=function(){e.css({overflowY:"hidden"}),s.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),a=setTimeout(function(){e.css({overflowY:"auto"}),e.removeClass("popup_hide")},300)},h=function(){e[0].obj=n,_()},_=function(){d.on({resize:function(){f()}}),i.on({click:function(){return m($(this).attr("data-popup")),!1}}),c.on({click:function(o){o.stopPropagation()}}),e.on({click:function(){return l(),!1}}),p.on({click:function(){return l(),!1}})},m=function(o){v(o),s.css({overflowY:"hidden",paddingRight:r()}),e.addClass("popup_opened"),f()},v=function(o){var n=u.filter(".popup__"+o);u.css({display:"none"}),n.css({display:"block"})};h()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5hbmltYXRpb24uanMiLCJqcXVlcnkuaW5kZXguanMiLCJqcXVlcnkucG9wdXAuanMiXSwibmFtZXMiOlsiJCIsImVhY2giLCJTbGlkZXMiLCJ0aGlzIiwiQW5pbSIsIm9iaiIsIl9zZWxmIiwiX29iaiIsIl93aW5kb3ciLCJ3aW5kb3ciLCJfb25FdmVudHMiLCJvbiIsInNjcm9sbCIsIl9jaGVja1Njcm9sbCIsIndpbmRvd0giLCJoZWlnaHQiLCJjdXJJdGVtIiwidG9wUG9zIiwib2Zmc2V0IiwidG9wIiwic2Nyb2xsVG9wIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsIl9pbml0Iiwic2xpZGVzIiwiX25ld3MiLCJfaXRlbSIsImZpbmQiLCJTY3JvbGwiLCJQcm9tb0dhbGxlcnkiLCJfYnRuIiwiX2h0bWwiLCJfY29uc3RydWN0b3IiLCJjbGljayIsIl9zY3JvbGxUb1RvcCIsImFuaW1hdGUiLCJfc3dpcGVyIiwiX2FkZEV2ZW50cyIsIl9pbml0U3dpcGVyIiwiU3dpcGVyIiwibG9vcCIsInBhZ2luYXRpb24iLCJwYWdpbmF0aW9uQ2xpY2FibGUiLCJhdXRvcGxheSIsInNwZWVkIiwiYXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbiIsIlBvcHVwIiwiX3BvcHVwUGFkZGluZyIsIl9idG5TaG93IiwiX2J0bkNsb3NlIiwiX3dyYXAiLCJfY29udGVudHMiLCJfc2Nyb2xsQ29udGVpbmVyIiwiX3RpbWVyIiwic2V0VGltZW91dCIsIl9jZW50ZXJXcmFwIiwiY3NzIiwiX2dldFNjcm9sbFdpZHRoIiwic2Nyb2xsQmFyV2lkdGgiLCJzY3JvbGxEaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJfaGlkZSIsIm92ZXJmbG93WSIsInBhZGRpbmdSaWdodCIsInJlbW92ZUNsYXNzIiwicmVzaXplIiwiX3Nob3ciLCJhdHRyIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsIl9zZXRQb3B1cENvbnRlbnQiLCJjdXJDb250ZW50IiwiZmlsdGVyIiwiZGlzcGxheSJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDSSxZQUVBQSxHQUFHLFdBRUNBLEVBQUVDLEtBQU1ELEVBQUcsV0FBYSxXQUNwQixHQUFJRSxHQUFTRixFQUFHRyxXQUt4QkgsRUFBRyxXQUVDQSxFQUFFQyxLQUFNRCxFQUFHLFNBQVcsV0FDbEIsR0FBSUksR0FBT0osRUFBR0csVUFLdEIsSUFBSUQsR0FBUyxTQUFXRyxHQUdwQixHQUFJQyxHQUFRSCxLQUNSSSxFQUFPRixFQUNQRyxFQUFVUixFQUFHUyxRQUdiQyxFQUFZLFdBQ1JGLEVBQVFHLElBQ0pDLE9BQVEsV0FFSkMsUUFLWkEsRUFBZSxXQUVYLEdBQUlDLEdBQVVOLEVBQVFPLFFBRXRCUixHQUFLTixLQUFLLFdBRU4sR0FBSWUsR0FBVWhCLEVBQUVHLE1BQ1pjLEVBQVNWLEVBQUtXLFNBQVNDLEdBRXZCWCxHQUFRWSxZQUFlSCxFQUFTSCxFQUFRLE1BQVNFLEVBQVFLLFNBQVUsY0FFbkVMLEVBQVFNLFNBQVUsZ0JBSzlCQyxFQUFRLFdBQ0poQixFQUFLLEdBQUdpQixPQUFTbEIsRUFDakJJLElBQ0FHLElBT1JVLE1BR0FuQixFQUFPLFNBQVdDLEdBR2xCLEdBQ0lvQixHQUFRcEIsRUFDUnFCLEVBQVFELEVBQU1FLEtBQU0sZUFDcEJuQixFQUFVUixFQUFHUyxRQUdiQyxFQUFZLFdBQ1JGLEVBQVFHLElBQ0pDLE9BQVEsV0FFSkMsUUFLWkEsRUFBZSxXQUVYLEdBQUlDLEdBQVVOLEVBQVFPLFNBRWxCRSxFQUFTUSxFQUFNUCxTQUFTQyxJQUFJTCxFQUFRLEVBRXBDTixHQUFRWSxZQUFjSCxHQUV0QlMsRUFBTUosU0FBUyxjQUt2QkMsRUFBUSxXQUNKYixJQUNBRyxJQU9SVTtBQ3pHUixjQUVBLFdBRUV2QixFQUFHLFdBRURBLEVBQUVDLEtBQU1ELEVBQUcsd0JBQTBCLFdBRW5DLEdBQUs0QixHQUFTNUIsRUFB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bmN0aW9uKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgJCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICQuZWFjaCggJCggJy5zbGlkZXMnICksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBuZXcgU2xpZGVzICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICQoIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAkLmVhY2goICQoICcubmV3cycgKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5ldyBBbmltICggJCggdGhpcyApICk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBTbGlkZXMgPSBmdW5jdGlvbiAoIG9iaiApIHtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxyXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICk7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oe1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB3aW5kb3dIID0gX3dpbmRvdy5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBfb2JqLmVhY2goZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IF9vYmoub2Zmc2V0KCkudG9wO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5zY3JvbGxUb3AoKSA+ICh0b3BQb3MgLSB3aW5kb3dILzEuOCkgJiYgIWN1ckl0ZW0uaGFzQ2xhc3MoICdhbmltYXRpb24nICkgKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoICdhbmltYXRpb24nICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX29ialswXS5zbGlkZXMgPSBfc2VsZjtcclxuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xyXG5cclxuICAgICAgICBfaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQW5pbSA9IGZ1bmN0aW9uICggb2JqICkge1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgICAgIF9uZXdzID0gb2JqLFxyXG4gICAgICAgICAgICBfaXRlbSA9IF9uZXdzLmZpbmQoICcubmV3c19faXRlbScgKSxcclxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApO1xyXG5cclxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xyXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgX2NoZWNrU2Nyb2xsID0gZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgd2luZG93SCA9IF93aW5kb3cuaGVpZ2h0KCksXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IF9uZXdzLm9mZnNldCgpLnRvcC13aW5kb3dIKzYwO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpID4gdG9wUG9zICl7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgX2l0ZW0uYWRkQ2xhc3MoJ2FuaW1hdGlvbicpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIF9pbml0KCk7XHJcbiAgICB9O1xyXG59ICkoKTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4oIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgJCggZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgJC5lYWNoKCAkKCAnLnNpdGVfX2Zvb3Rlci1zY3JvbGwnICksIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgbmV3ICBTY3JvbGwgKCAkKCB0aGlzICkgKTtcclxuXHJcbiAgICB9ICk7XHJcblxyXG4gICAgICAkLmVhY2goICQoICcucHJvbW9fX3N3aXBlcicgKSwgZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgbmV3IFByb21vR2FsbGVyeSAoICQoIHRoaXMgKSApO1xyXG5cclxuICAgICAgfSApO1xyXG5cclxuICB9ICk7XHJcblxyXG5cclxuICB2YXIgU2Nyb2xsID0gZnVuY3Rpb24gKCBvYmogKSB7XHJcblxyXG4gICAgLy9wcml2YXRlIHByb3BlcnRpZXNcclxuICAgIHZhciBfc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgX2J0biA9IG9iaixcclxuICAgICAgICBfaHRtbCA9ICQoJ2JvZHksaHRtbCcpO1xyXG5cclxuICAgIC8vcHJpdmF0ZSBtZXRob2RzXHJcbiAgICB2YXIgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICBfb25FdmVudHMoKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgX2J0bi5vbiAoIHtcclxuICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICBfc2Nyb2xsVG9Ub3AoKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgfSxcclxuICAgIF9zY3JvbGxUb1RvcCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgIF9odG1sLmFuaW1hdGUoe3Njcm9sbFRvcDogMH0sIDQwMCk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBfY29uc3RydWN0b3IgKCk7XHJcblxyXG4gIH07XHJcblxyXG4gICAgdmFyIFByb21vR2FsbGVyeSA9IGZ1bmN0aW9uKCBvYmogKSB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcclxuICAgICAgICAgICAgX29iaiA9IG9iaixcclxuICAgICAgICAgICAgX3N3aXBlcjtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcclxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIF9zd2lwZXIgPSBuZXcgU3dpcGVyKCBfb2JqLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcclxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uQ2xpY2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IDUwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDYwMCxcclxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xyXG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgX2luaXRTd2lwZXIoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgX2luaXQoKTtcclxuICAgIH07XHJcblxyXG59ICkgKCk7XHJcbiIsIiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJCggJy5wb3B1cCcgKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIG5ldyBQb3B1cCgkKHRoaXMpKTtcblxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG4gICAgdmFyIFBvcHVwID0gZnVuY3Rpb24oIG9iaiApe1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfcG9wdXBQYWRkaW5nID0gNDAsXG4gICAgICAgICAgICBfYnRuU2hvdyA9ICAkKCAnLnBvcHVwX19vcGVuJyApLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9idG5DbG9zZSA9IF9vYmouZmluZCggJy5wb3B1cF9fY2xvc2UsIC5wb3B1cF9fY2FuY2VsJyApLFxuICAgICAgICAgICAgX3dyYXAgPSBfb2JqLmZpbmQoICcucG9wdXBfX3dyYXAnICksXG4gICAgICAgICAgICBfY29udGVudHMgPSBfb2JqLmZpbmQoICcucG9wdXBfX2NvbnRlbnQnICksXG4gICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyID0gJCggJ2h0bWwnICksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe30sIDEgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NlbnRlcldyYXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy5oZWlnaHQoKSAtICggX3BvcHVwUGFkZGluZyAqIDIgKSAtIF93cmFwLmhlaWdodCgpID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogKCAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgKSAtIF93cmFwLmhlaWdodCgpICkgLyAyIH0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfd3JhcC5jc3MoIHsgdG9wOiAwIH0gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldFNjcm9sbFdpZHRoID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnKSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGg7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ3BvcHVwX19zY3JvbGxiYXItbWVhc3VyZSc7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBzY3JvbGxEaXYgKTtcblxuICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbEJhcldpZHRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9oaWRlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcyAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX2hpZGUnICk7XG4gICAgICAgICAgICAgICAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2VudGVyV3JhcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG5TaG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3coICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1wb3B1cCcgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF93cmFwLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuQ2xvc2Uub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIF9zZXRQb3B1cENvbnRlbnQoIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBfZ2V0U2Nyb2xsV2lkdGgoKVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9jZW50ZXJXcmFwKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIHZhciBjdXJDb250ZW50ID0gX2NvbnRlbnRzLmZpbHRlciggJy5wb3B1cF9fJyArIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRlbnRzLmNzcyggeyBkaXNwbGF5OiAnbm9uZScgfSApO1xuICAgICAgICAgICAgICAgIGN1ckNvbnRlbnQuY3NzKCB7IGRpc3BsYXk6ICdibG9jaycgfSApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xufSApKCk7XG5cbiJdfQ==
